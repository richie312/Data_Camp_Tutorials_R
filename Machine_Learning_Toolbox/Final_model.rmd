---
title: "Putting it all together"
output:
  html_document:
    df_print: paged
---

## Create the fold and train the model

```{r, eval = FALSE}
# Create custom indices: myFolds
myFolds <- createFolds(churn_y, k = 5)

# Create reusable trainControl object: myControl
myControl <- trainControl(
  summaryFunction = twoClassSummary,
  classProbs = TRUE, # IMPORTANT!
  verboseIter = TRUE,
  savePredictions = TRUE,
  index = myFolds
)


# Fit glmnet model: model_glmnet
model_glmnet <- train(
  x = churn_x, y = churn_y,
  metric = "ROC",
  method = "glmnet",
  trControl = myControl
)

## Run te randomForrest model on churn dataset

# Fit random forest: model_rf
model_rf <- train(
  x = churn_x, y = churn_y,
  metric = "ROC",
  method = "ranger",
  trControl = myControl
)

## Compairing models

# Create model_list
model_list <- list(item1 = model_glmnet, item2 = model_rf)

# Pass model_list to resamples(): resamples

resamples<- resamples(model_list)

# Summarize the results

summary(resamples)

## Model comparison (Visual)

# Create bwplot
bwplot(resamples, metric = "ROC")


# Create xyplot
xyplot(resamples, metric = "ROC")




```



